{"version":3,"sources":["../src/ckeditor.jsx"],"names":["CKEditor","props","editor","newProps","data","setData","_initializeEditor","_destroyEditor","domContainer","ref","create","config","then","onInit","document","model","on","onChange","event","catch","console","error","destroy","React","Component","propTypes","PropTypes","func","isRequired","string","object","defaultProps"],"mappings":"6oCAQqBA,S,aACpB,WAAaC,CAAb,CAAqB,iHACbA,CADa,SAKpB,GAAKC,MAAL,CAAc,IALM,EAMpB,C,iFAEmBC,C,CAAW,CACzB,KAAKD,MAAL,EAAeC,EAASC,IADC,EAE7B,KAAKF,MAAL,CAAYG,OAAZ,CAAqBF,EAASC,IAA9B,CAED,C,6CAGmB,CACnB,KAAKE,iBAAL,EACA,C,gDAGsB,CACtB,KAAKC,cAAL,EACA,C,kCAGQ,YACR,MACC,sCAAK,IAAM,oBAAS,GAAKC,YAAL,CAAoBC,CAA7B,CAAX,EAED,C,6CAEmB,YACnB,KAAKR,KAAL,CAAWC,MAAX,CACEQ,MADF,CACU,KAAKF,YADf,CAC6B,KAAKP,KAAL,CAAWU,MADxC,EAEEC,IAFF,CAEQ,WAAU,CAChB,EAAKV,MAAL,CAAcA,CADE,CAGX,EAAKD,KAAL,CAAWG,IAHA,EAIf,EAAKF,MAAL,CAAYG,OAAZ,CAAqB,EAAKJ,KAAL,CAAWG,IAAhC,CAJe,CAOX,EAAKH,KAAL,CAAWY,MAPA,EAQf,EAAKZ,KAAL,CAAWY,MAAX,CAAmB,EAAKX,MAAxB,CARe,CAWhB,GAAMY,GAAW,EAAKZ,MAAL,CAAYa,KAAZ,CAAkBD,QAAnC,CAEAA,EAASE,EAAT,CAAa,aAAb,CAA4B,WAAS,CAE/B,EAAKf,KAAL,CAAWgB,QAFoB,EAGnC,EAAKhB,KAAL,CAAWgB,QAAX,CAAqB,CAAEC,OAAF,CAAShB,QAAT,CAArB,CAED,CALD,CAMA,CArBF,EAsBEiB,KAtBF,CAsBS,WAAS,CAChBC,QAAQC,KAAR,CAAeA,CAAf,CACA,CAxBF,CAyBA,C,0CAEgB,CACX,KAAKnB,MADM,EAEf,KAAKA,MAAL,CAAYoB,OAAZ,EAED,C,OAhEoCC,gBAAMC,S,kBAAvBxB,Q,CAoErBA,SAASyB,SAAT,CAAqB,CACpBvB,OAAQwB,oBAAUC,IAAV,CAAeC,UADH,CAEpBxB,KAAMsB,oBAAUG,MAFI,CAGpBlB,OAAQe,oBAAUI,MAHE,CAIpBb,SAAUS,oBAAUC,IAJA,CAKpBd,OAAQa,oBAAUC,IALE,C,CASrB3B,SAAS+B,YAAT,CAAwB,CACvB3B,KAAM,EADiB,CAEvBO,OAAQ,EAFe,C","file":"ckeditor.js","sourcesContent":["/**\n * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class CKEditor extends React.Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\t// After mounting the editor, the variable will contain a reference to created editor.\n\t\t// @see: https://docs.ckeditor.com/ckeditor5/latest/api/module_core_editor_editor-Editor.html\n\t\tthis.editor = null;\n\t}\n\n\tcomponentDidUpdate( newProps ) {\n\t\tif ( this.editor && newProps.data ) {\n\t\t\tthis.editor.setData( newProps.data );\n\t\t}\n\t}\n\n\t// Initialize editor when component is mounted.\n\tcomponentDidMount() {\n\t\tthis._initializeEditor();\n\t}\n\n\t// Destroy editor before unmouting component.\n\tcomponentWillUnmount() {\n\t\tthis._destroyEditor();\n\t}\n\n\t// Render <div> element which will be replaced by CKEditor.\n\trender() {\n\t\treturn (\n\t\t\t<div ref={ ref => ( this.domContainer = ref ) }></div>\n\t\t);\n\t}\n\n\t_initializeEditor() {\n\t\tthis.props.editor\n\t\t\t.create( this.domContainer, this.props.config )\n\t\t\t.then( editor => {\n\t\t\t\tthis.editor = editor;\n\n\t\t\t\tif ( this.props.data ) {\n\t\t\t\t\tthis.editor.setData( this.props.data );\n\t\t\t\t}\n\n\t\t\t\tif ( this.props.onInit ) {\n\t\t\t\t\tthis.props.onInit( this.editor );\n\t\t\t\t}\n\n\t\t\t\tconst document = this.editor.model.document;\n\n\t\t\t\tdocument.on( 'change:data', event => {\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif ( this.props.onChange ) {\n\t\t\t\t\t\tthis.props.onChange( { event, editor } );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} )\n\t\t\t.catch( error => {\n\t\t\t\tconsole.error( error );\n\t\t\t} );\n\t}\n\n\t_destroyEditor() {\n\t\tif ( this.editor ) {\n\t\t\tthis.editor.destroy();\n\t\t}\n\t}\n}\n\n// Properties definition.\nCKEditor.propTypes = {\n\teditor: PropTypes.func.isRequired,\n\tdata: PropTypes.string,\n\tconfig: PropTypes.object,\n\tonChange: PropTypes.func,\n\tonInit: PropTypes.func\n};\n\n// Default values for non-required properties.\nCKEditor.defaultProps = {\n\tdata: '',\n\tconfig: {}\n};\n\n"]}