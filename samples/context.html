<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>CKEditor 5 – React Component – development sample</title>
	<style>
		body {
			max-width: 800px;
			margin: 20px auto;
		}

		.button_read-only {
			margin: 10px 0;
		}

	</style>
</head>

<body>
	<h1>CKEditor 5 – React Component – development sample</h1>
	<p style="text-align: center;">Component's events are logged to the console.</p>
	<button id="readOnly" class="button_read-only" disabled>Switch to read-only mode</button>
	<button id="clear-storage">Clear localStorage</button>
	<div id="presence-list"></div>
	<div id="root"></div>
	<div id="sidebar"></div>
	<script src="../node_modules/react/umd/react.production.min.js"></script>
	<script src="../node_modules/react-dom/umd/react-dom.production.min.js"></script>
	<script src="../dist/ckeditor.js"></script>
	<script src="./cksource.js"></script>
	<script>
		document.addEventListener( 'DOMContentLoaded', () => {
			const editorContent = `
<h2>Sample</h2>
<p>This is an instance of the <a href="https://ckeditor.com/docs/ckeditor5/latest/builds/guides/overview.html#classic-editor">classic editor build</a>.</p>
<figure class="image">
	<img src="./sample.jpg" alt="CKEditor 5 Sample image." />
</figure>
<p>You can use this sample to validate whether your <a href="https://ckeditor.com/docs/ckeditor5/latest/builds/guides/development/custom-builds.html">custom build</a> works fine.</p>
`;

			document.getElementById( 'clear-storage' ).addEventListener( 'click', () => {
				localStorage.clear();
			} );

			const tokenUrl = localStorage.getItem( 'tokenUrl' ) || prompt( 'Token URL' );
			const webSocketUrl = localStorage.getItem( 'webSocketUrl' ) || prompt( 'WebSocket URL' );
			const uploadUrl = localStorage.getItem( 'uploadUrl' ) || prompt( 'Upload URL' );
			const channelId = prompt( 'Channel ID' );

			localStorage.setItem( 'tokenUrl', tokenUrl );
			localStorage.setItem( 'webSocketUrl', webSocketUrl );
			localStorage.setItem( 'uploadUrl', uploadUrl );

			ReactDOM.render(
				React.createElement( CKEditor.Context, {
					context: CKSource.Context,
					config: {
						cloudServices: {
							tokenUrl,
							webSocketUrl,
							uploadUrl
						},
						collaboration: {
							channelId
						},
						presenceList: {
							container: document.querySelector( '#presence-list' )
						},
						sidebar: {
							container: document.querySelector( '#sidebar' )
						}
					}
				}, [
					React.createElement( CKEditor, {
						editor: CKSource.ClassicEditor,
						config: {
							initialData: editorContent,
							collaboration: {
								channelId: channelId + '-editor1'
							}
						}
					} ),
					React.createElement( CKEditor, {
						editor: CKSource.ClassicEditor,
						config: {
							initialData: editorContent,
							collaboration: {
								channelId: channelId + '-editor2'
							}
						}
					} )
				] ),
				document.getElementById( 'root' )
			);
		} );
	</script>
</body>

</html>
